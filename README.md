# 智能语音开关
> V0.1 2017.4.14

## 0x00 产品概述
通过zigbee网络实现开关的可编辑控制功能，实现灯光的快速、可靠的控制。
## 0x01 功能模块
产品的主要功能为开关的可编辑控制，其中引入了多样的控制模式用于提升控制体验。设备注册与自组网功能为实现设备安全以及使用的辩解性。数据可靠性保证以及硬件自己用于提升产品稳定性以及问题可视化。
## 0x02 硬件方案
![](http://ongo9qnag.bkt.clouddn.com/switch.png?imageView/1/w/500/h/300)

架构图如上图

**MCU:stm32f103c8t6**
**zigbee:ZLG_ZM5161P2-2C**
**触摸芯片：BS806B**
**离线语音识别芯片:ISD9160**
**蜂鸣器：SMD1203**
**Flash芯片：W25Q64**
## 0x03 通讯机制
由于zigbee通信速率低、多级路由效率低，广播冲包概率大，为了保证数据传输的可靠性。通信采用主从应答模式，保证控制的可靠性。开关之间采用控制指令由控制范围分为点对点通信模式以及广播模式，用于实现单设备以及多设备的控制。
****
#### 进程管理
* [x]  uCOSII移植
* [x]  任务构造
* [x]  设备控制
* [x]  硬件驱动
* [x]  通讯机制
* [x]  设备注册功能
* [x]  Zigbee自组网功能
* [ ]  网络稳定性检测
* [ ]  数据可靠性保障
* [ ]  设备硬件自检功能
* [ ]  测试
* [ ]  工程机验收，整理




